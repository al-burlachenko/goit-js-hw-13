{"version":3,"sources":["js/modalInterface.js","index.js"],"names":["modalClose","event","code","target","currentTarget","removeEventListener","classList","remove","window","modalKeyInterface","setAttribute","modalOpen","addEventListener","add","changeLightboxImage","src","alt","imgArray","itemsArray","gallery","querySelectorAll","forEach","element","push","dataset","source","currentSrc","lightboxImage","getAttribute","index","indexOf","length","console","log","document","querySelector","lightbox","lightboxOverlay","modalClsBtn"],"mappings":";;;AA+DC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,oBAAA,EA/DD,IAAA,EAAA,QAAA,YAGA,SAASA,EAAWC,GACC,WAAfA,EAAMC,MAAqBD,EAAME,SAAWF,EAAMG,gBAI1CC,EAAAA,YAAAA,oBAAoB,QAASL,GAChCM,EAAAA,SAAAA,UAAUC,OAAO,WAEVF,EAAAA,gBAAAA,oBAAoB,QAASL,GAC7CQ,OAAOH,oBAAoB,UAAWL,GACtCQ,OAAOH,oBAAoB,UAAWI,GAExBC,EAAAA,cAAAA,aAAa,MAAO,IACpBA,EAAAA,cAAAA,aAAa,MAAO,KAGpC,SAASC,EAAUV,GACLW,EAAAA,YAAAA,iBAAiB,QAASZ,GAC7BM,EAAAA,SAAAA,UAAUO,IAAI,WAEPD,EAAAA,gBAAAA,iBAAiB,QAASZ,GAE1CQ,OAAOI,iBAAiB,UAAWZ,GACnCQ,OAAOI,iBAAiB,UAAWH,GAGrC,SAASK,EAAoBC,EAAKC,GAClBN,EAAAA,cAAAA,aAAa,MAAOK,GACpBL,EAAAA,cAAAA,aAAa,MAAOM,GAGpC,SAASP,EAAkBR,GACnBgB,MAAAA,EAAW,GACXC,EAAaC,EAAQC,QAAAA,iBAAiB,mBAE3C,IAAGF,GAAYG,QAAQC,IACtBL,EAASM,KAAKD,EAAQE,QAAQC,UAG1BC,MAAAA,EAAaC,EAAcC,cAAAA,aAAa,OAC1CC,IAAAA,EAAQZ,EAASa,QAAQJ,GAEV,eAAfzB,EAAMC,OACJ2B,GAASX,EAAWa,OAAS,IAC/BF,GAAS,GAEXA,GAAS,GAGQ,cAAf5B,EAAMC,OACJ2B,GAAS,IACXA,EAAQX,EAAWa,QAErBC,QAAQC,IAAIJ,GACZA,GAAS,GAKXf,EAFYI,EAAWW,GAAOL,QAAQC,OAC1BP,EAAWW,GAAOD,aAAa;;ACnDtC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,QAAA,gBAAA,QAAA,cAAA,QAAA,SAAA,QAAA,aAAA,EATP,QAAA,kBAGA,IAAA,EAAA,QAAA,uBAEO,MAAMT,EAAUe,SAASC,cAAc,eAIvC,QAAA,QAAA,EAHA,MAAMC,EAAWF,SAASC,cAAc,gBAGxC,QAAA,SAAA,EAFA,MAAMR,EAAgBS,EAASD,cAAc,oBAE7C,QAAA,cAAA,EADA,MAAME,EAAkBD,EAASD,cAAc,sBAC/C,QAAA,gBAAA,EAAA,MAAMG,EAAcF,EAASD,cAAc,wCAA3C,QAAA,YAAA","file":"src.7d5cd477.js","sourceRoot":"../src","sourcesContent":["import { gallery, lightbox, lightboxImage, lightboxOverlay, modalClsBtn } from '../index';\nexport { modalOpen, changeLightboxImage };\n\nfunction modalClose(event) {\n  if (event.code !== 'Escape' && event.target !== event.currentTarget) {\n    return;\n  }\n\n  modalClsBtn.removeEventListener('click', modalClose);\n  lightbox.classList.remove('is-open');\n\n  lightboxOverlay.removeEventListener('click', modalClose);\n  window.removeEventListener('keydown', modalClose);\n  window.removeEventListener('keydown', modalKeyInterface);\n\n  lightboxImage.setAttribute('src', '');\n  lightboxImage.setAttribute('alt', '');\n}\n\nfunction modalOpen(event) {\n  modalClsBtn.addEventListener('click', modalClose);\n  lightbox.classList.add('is-open');\n\n  lightboxOverlay.addEventListener('click', modalClose);\n\n  window.addEventListener('keydown', modalClose);\n  window.addEventListener('keydown', modalKeyInterface);\n}\n\nfunction changeLightboxImage(src, alt) {\n  lightboxImage.setAttribute('src', src);\n  lightboxImage.setAttribute('alt', alt);\n}\n\nfunction modalKeyInterface(event) {\n  const imgArray = [];\n  const itemsArray = gallery.querySelectorAll('.gallery__image');\n\n  [...itemsArray].forEach(element => {\n    imgArray.push(element.dataset.source);\n  });\n\n  const currentSrc = lightboxImage.getAttribute('src');\n  let index = imgArray.indexOf(currentSrc);\n\n  if (event.code === 'ArrowRight') {\n    if (index >= itemsArray.length - 1) {\n      index = -1;\n    }\n    index += 1;\n  }\n\n  if (event.code === 'ArrowLeft') {\n    if (index <= 0) {\n      index = itemsArray.length;\n    }\n    console.log(index);\n    index -= 1;\n  }\n\n  const src = itemsArray[index].dataset.source;\n  const alt = itemsArray[index].getAttribute('alt');\n  changeLightboxImage(src, alt);\n}","// import './css/utils/fontawesome.min.css'\nimport './css/main.css';\n\n\nimport { modalOpen, changeLightboxImage } from './js/modalInterface';\n\nexport const gallery = document.querySelector('.js-gallery');\nexport const lightbox = document.querySelector('.js-lightbox');\nexport const lightboxImage = lightbox.querySelector('.lightbox__image');\nexport const lightboxOverlay = lightbox.querySelector('.lightbox__overlay');\nexport const modalClsBtn = lightbox.querySelector('button[data-action=\"close-lightbox\"]');\n\n"]}